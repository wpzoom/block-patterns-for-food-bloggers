(()=>{var e={942:(e,t)=>{var o;!function(){"use strict";var r={}.hasOwnProperty;function n(){for(var e="",t=0;t<arguments.length;t++){var o=arguments[t];o&&(e=s(e,a(o)))}return e}function a(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return n.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var o in e)r.call(e,o)&&e[o]&&(t=s(t,o));return t}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(n.default=n,e.exports=n):void 0===(o=function(){return n}.apply(t,[]))||(e.exports=o)}()}},t={};function o(r){var n=t[r];if(void 0!==n)return n.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,o),a.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=window.wp.element,t=window.lodash,r=window.wp.i18n,n=window.wp.data,a=window.wp.components,s=(0,e.createElement)(a.SVG,{viewBox:"0 0 20 20",width:"20",height:"20"},(0,e.createElement)(a.Path,{d:"M 10.847656 14.761719 C 13.414062 14.761719 15.503906 12.675781 15.503906 10.109375 C 15.503906 7.542969 13.414062 5.457031 10.847656 5.457031 C 8.28125 5.457031 6.195312 7.542969 6.195312 10.109375 C 6.195312 12.675781 8.28125 14.761719 10.847656 14.761719 Z M 10.847656 14.761719 "}),(0,e.createElement)(a.Path,{d:"M 10.847656 16.011719 C 14.109375 16.011719 16.75 13.367188 16.75 10.109375 C 16.75 6.847656 14.109375 4.207031 10.847656 4.207031 C 7.589844 4.207031 4.945312 6.847656 4.945312 10.109375 C 4.945312 13.367188 7.589844 16.011719 10.847656 16.011719 Z M 10.847656 5.113281 C 13.605469 5.113281 15.847656 7.355469 15.847656 10.109375 C 15.847656 12.863281 13.605469 15.105469 10.847656 15.105469 C 8.09375 15.105469 5.851562 12.863281 5.851562 10.109375 C 5.851562 7.355469 8.09375 5.113281 10.847656 5.113281 Z M 10.847656 5.113281 "}),(0,e.createElement)(a.Path,{d:"M 20.03125 16.558594 L 19.6875 3.3125 C 19.6875 3.027344 19.453125 2.796875 19.167969 2.796875 C 19.09375 2.796875 19.023438 2.816406 18.957031 2.84375 L 18.957031 2.839844 C 18.957031 2.839844 18.941406 2.847656 18.925781 2.863281 C 18.875 2.890625 18.832031 2.921875 18.792969 2.964844 C 18.414062 3.273438 17.207031 4.539062 17.109375 6.246094 C 16.953125 8.855469 18.222656 9.910156 18.652344 10.878906 L 18.308594 16.558594 C 18.308594 16.84375 18.882812 17.078125 19.167969 17.078125 C 19.453125 17.078125 20.03125 16.84375 20.03125 16.558594 Z M 20.03125 16.558594 "}),(0,e.createElement)(a.Path,{d:"M 0.902344 8.492188 L 1.792969 8.9375 C 1.894531 8.988281 2.007812 9.023438 2.125 9.050781 L 1.777344 16.800781 C 1.777344 17.039062 2.355469 17.234375 2.640625 17.234375 C 2.925781 17.234375 3.5 17.039062 3.5 16.800781 L 3.15625 9.011719 C 3.277344 8.972656 3.394531 8.925781 3.496094 8.863281 L 4.15625 8.460938 C 4.632812 8.171875 4.992188 7.53125 4.992188 6.972656 L 4.992188 3.503906 C 4.992188 3.214844 4.761719 2.984375 4.476562 2.984375 C 4.191406 2.984375 3.960938 3.214844 3.960938 3.503906 L 3.960938 6.628906 L 3.671875 6.628906 L 3.671875 3.503906 C 3.671875 3.214844 3.441406 2.984375 3.15625 2.984375 C 2.871094 2.984375 2.640625 3.214844 2.640625 3.503906 L 2.640625 6.628906 L 2.351562 6.628906 L 2.351562 3.503906 C 2.351562 3.214844 2.121094 2.984375 1.835938 2.984375 C 1.550781 2.984375 1.320312 3.214844 1.320312 3.503906 L 1.320312 6.628906 L 1.03125 6.628906 L 1.03125 3.613281 C 1.03125 3.328125 0.800781 3.097656 0.515625 3.097656 C 0.230469 3.097656 0 3.328125 0 3.613281 L 0 7.03125 C 0 7.605469 0.386719 8.234375 0.902344 8.492188 Z M 0.902344 8.492188 "}));function l(t){const{patternCategories:o,patternCategoryTypes:n,selectedCategory:s,setSelectedCategory:l,searchValue:c,setSearchValue:i}=t,d=(0,e.useMemo)((()=>n.map((e=>e.name))),[n]),p="block-patterns-for-food-bloggers__sidebar";return(0,e.createElement)("div",{className:p},(0,e.createElement)("div",{className:`${p}__search`},(0,e.createElement)(a.SearchControl,{value:c,onChange:i,label:(0,r.__)("Search patterns","block-patterns-for-food-bloggers")})),n.map((t=>{const r=o.filter((e=>"uncategorized"===t.name?!e?.categoryTypes||e.categoryTypes.every((e=>!d.includes(e))):e.categoryTypes?.includes(t.name)));return r.length?(0,e.createElement)("div",{key:t,className:`${p}__category-type`},t?.hideLabelFromVision?(0,e.createElement)(a.VisuallyHidden,{as:"h2"},t.label):(0,e.createElement)("h2",{className:`${p}__category-type__title`},t.label),(0,e.createElement)("div",{className:`${p}__category-type__categories`},(0,e.createElement)(a.MenuGroup,{className:`${p}__categories-list`},r.map((t=>(0,e.createElement)(a.MenuItem,{key:t.name,label:t.label,className:`${p}__categories-list__item`,isPressed:!c&&t.name===s,onClick:()=>function(e){l(e),i("")}(t.name)},t.label)))))):null})))}const c=window.wp.compose,i=window.wp.a11y;var d=o(942),p=o.n(d);const u=window.wp.primitives,g=(0,e.createElement)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(u.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"})),m=(0,e.createElement)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(u.Path,{d:"M5 4v11h14V4H5zm3 15.8h8v-1.5H8v1.5z"})),f=(0,e.createElement)(u.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)(u.Path,{d:"M6 5.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM4 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2V6zm11-.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5h-3a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM13 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2h-3a2 2 0 01-2-2V6zm5 8.5h-3a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5zM15 13a2 2 0 00-2 2v3a2 2 0 002 2h3a2 2 0 002-2v-3a2 2 0 00-2-2h-3zm-9 1.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5v-3a.5.5 0 01.5-.5zM4 15a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2v-3z",fillRule:"evenodd",clipRule:"evenodd"}));function b(t){const{viewportWidth:o,setViewportWidth:n,isGrid:s,setIsGrid:l,shownPatterns:c,searchValue:i,isLoading:d}=t,u=[{label:(0,r.__)("Desktop","block-patterns-for-food-bloggers"),slug:"desktop",value:1300,active:1300===o},{label:(0,r.__)("Tablet","block-patterns-for-food-bloggers"),slug:"tablet",value:778,active:778===o},{label:(0,r.__)("Mobile","block-patterns-for-food-bloggers"),slug:"mobile",value:358,active:358===o}],b="block-patterns-for-food-bloggers__preview-header";return(0,e.createElement)("div",{className:b},(0,e.createElement)("div",{className:`${b}__search-results`},d&&(0,e.createElement)(a.Spinner,null),i&&i.length>1&&(0,r.sprintf)(
// translators: %1$d: Number of patterns. %2$s: The search input.
// translators: %1$d: Number of patterns. %2$s: The search input.
(0,r._n)('%1$d search result for "%2$s"','%1$d search results for "%2$s"',c.length,"block-patterns-for-food-bloggers"),c.length,i)),(0,e.createElement)("div",{className:`${b}__controls`},(0,e.createElement)(a.DropdownMenu,{icon:"",text:(0,r.__)("Preview","block-patterns-for-food-bloggers"),className:"viewport-toggle",toggleProps:{isTertiary:!0},popoverProps:{focusOnMount:"container",position:"bottom left"}},(()=>(0,e.createElement)(a.MenuGroup,null,u.map((t=>(0,e.createElement)(a.MenuItem,{key:t.slug,className:p()({disabled:!t.active}),icon:t.active?g:"",onClick:()=>function(e){e.active||n(e.value)}(t)},t.label)))))),(0,e.createElement)(a.Button,{label:(0,r.__)("Individual Pattern","block-patterns-for-food-bloggers"),icon:m,isPressed:!s,onClick:()=>l(!s)}),(0,e.createElement)(a.Button,{label:(0,r.__)("Grid View","block-patterns-for-food-bloggers"),icon:f,isPressed:s,onClick:()=>l(!s)})))}function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},h.apply(this,arguments)}const v=function(t){let{icon:o,size:r=24,...n}=t;return(0,e.cloneElement)(o,{width:r,height:r,...n})},y=(0,e.createElement)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(u.Path,{d:"M19 8h-1V6h-5v2h-2V6H6v2H5c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8c0-1.1-.9-2-2-2zm.5 10c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5v-8c0-.3.2-.5.5-.5h14c.3 0 .5.2.5.5v8z"})),_=function({icon:t,label:o}){return(0,e.createElement)("div",{className:"block-editor-inserter__no-results"},(0,e.createElement)("div",null,(0,e.createElement)(v,{className:"block-editor-inserter__no-results-icon",icon:t||y}),(0,e.createElement)("p",null,o||(0,r.__)("No results found.","block-patterns-for-food-bloggers"))))},w=(0,e.createContext)(),C=function({children:t}){const o=(0,a.__unstableUseCompositeState)({shift:!0,wrap:"horizontal"});return(0,e.createElement)(w.Provider,{value:o},t)},k=window.wp.blocks,E=window.wp.blockEditor;function P(t){const{pattern:o,onInsertPattern:s,viewportWidth:l,composite:i,isBlock:d,clientId:p}=t,{title:u,categories:g=[],blocks:m}=o,{createSuccessNotice:f}=(0,n.useDispatch)("core/notices"),b=`preview-pattern-card__info-description-${(0,c.useInstanceId)(P)}`;function v(){s(m.map((e=>(0,k.cloneBlock)(e)))),d&&(0,n.dispatch)("core/block-editor").removeBlock(p),f((0,r.sprintf)(
// Translators: Name of the pattern being inserted.
// Translators: Name of the pattern being inserted.
(0,r.__)('Block pattern "%s" inserted.',"block-patterns-for-food-bloggers"),o.title),{type:"snackbar"})}const y="block-patterns-for-food-bloggers__preview-pattern-list__item";return(0,e.createElement)("div",{className:y,"aria-label":o.title,"aria-describedby":o?.description?b:void 0},(0,e.createElement)(a.__unstableCompositeItem,h({role:"option",as:"div"},i,{className:`${y}-preview`,onClick:v}),(0,e.createElement)(E.BlockPreview,{blocks:m,viewportWidth:l})),(0,e.createElement)("div",{className:`${y}-actions`},(0,e.createElement)("div",{className:`${y}-title`},u),!!o.description&&(0,e.createElement)(a.VisuallyHidden,{id:b},o.description),(0,e.createElement)(a.Button,{isSecondary:!0,onClick:v},(0,r.__)("Add Pattern","block-patterns-for-food-bloggers"))))}function S(o){const{isGrid:s,isLoading:l,searchValue:c,shownPatterns:d,viewportWidth:u}=o,[g,b]=function({rootClientId:o="",insertionIndex:a,clientId:s,isAppender:l,onSelect:c,shouldFocusBlock:d=!0}){const{getSelectedBlock:p}=(0,n.useSelect)(E.store),{destinationRootClientId:u,destinationIndex:g}=(0,n.useSelect)((e=>{const{getSelectedBlockClientId:t,getBlockRootClientId:r,getBlockIndex:n,getBlockOrder:c}=e(E.store),i=t();let d,p=o;return void 0!==a?d=a:s?d=n(s,p):!l&&i?(p=r(i),d=n(i,p)+1):d=c(p).length,{destinationRootClientId:p,destinationIndex:d}}),[o,a,s,l]),{replaceBlocks:m,insertBlocks:f,showInsertionPoint:b,hideInsertionPoint:h}=(0,n.useDispatch)(E.store),v=(0,e.useCallback)(((e,o,n=!1)=>{const a=p();!l&&a&&(0,k.isUnmodifiedDefaultBlock)(a)?m(a.clientId,e,null,d||n?0:null,o):f(e,g,u,!0,d||n?0:null,o);const s=(0,r.sprintf)(
// translators: %d: the name of the block that has been added
// translators: %d: the name of the block that has been added
(0,r._n)("%d block added.","%d blocks added.",(0,t.castArray)(e).length),(0,t.castArray)(e).length);(0,i.speak)(s),c&&c()}),[l,p,m,f,u,g,c,d]),y=(0,e.useCallback)((e=>{e?b(u,g):h()}),[b,h,u,g]);return[u,v,y]}({shouldFocusBlock:!0}),v=(0,t.isEmpty)(d)&&!c&&!l,y=(0,t.isEmpty)(d)&&c,w=!v&&!y,S=!w&&y?(0,r.__)("No search results found.","block-patterns-for-food-bloggers"):(0,r.__)("No patterns were found for this category.","block-patterns-for-food-bloggers"),M=(0,a.__unstableUseCompositeState)();return(0,e.createElement)(C,null,!w&&(0,e.createElement)(_,{icon:s?f:m,label:S}),w&&(0,e.createElement)(a.__unstableComposite,h({},M,{role:"listbox",className:p()("block-patterns-for-food-bloggers__preview-pattern-list",{"is-grid":s,"is-loading":l,"preview-tablet":778===u,"preview-mobile":358===u}),"aria-label":(0,r.__)("Patterns","block-patterns-for-food-bloggers")}),d.map((t=>(0,e.createElement)(P,{key:t.name,pattern:t,onInsertPattern:b,viewportWidth:u,composite:M})))))}const M=3;function B(o){const{allPatterns:n,patternCategories:a,selectedCategory:s,searchValue:l}=o,[d,p]=(0,e.useState)(1300),[u,g]=(0,e.useState)(!0),m=(0,c.useDebounce)(i.speak,500),f=(0,e.useMemo)((()=>a.map((e=>e.name))),[a]),h=(0,e.useMemo)((()=>{let e=[];const o=l&&l.length>1;return o&&(e=n.filter((e=>{const o=l.toLowerCase();if(e.title.toLowerCase().includes(o))return!0;if(e?.keywords&&!(0,t.isEmpty)(e?.keywords)){const r=e.keywords.filter((e=>e.includes(o)));return!(0,t.isEmpty)(r)}return!1}))),o||(e=n.filter((e=>"uncategorized"===s?!e.categories?.length||e.categories.every((e=>!f.includes(e))):e.categories?.includes(s)))),e}),[l,s,n]),v=(0,c.useAsyncList)(h,{step:M}),y=v.length<h.length;return(0,e.useEffect)((()=>{if(!l||y)return;const e=h.length,t=(0,r.sprintf)(/* translators: %d: number of patterns found. */ /* translators: %d: number of patterns found. */
(0,r._n)("%d pattern found.","%d patterns found.",e,"block-patterns-for-food-bloggers"),e);m(t)}),[l,m]),(0,e.createElement)("div",{className:"block-patterns-for-food-bloggers__preview"},(0,e.createElement)(b,{viewportWidth:d,setViewportWidth:p,isGrid:u,setIsGrid:g,shownPatterns:v,searchValue:l,isLoading:y}),(0,e.createElement)(S,{viewportWidth:d,isGrid:u,shownPatterns:v,searchValue:l,isLoading:y}))}function L(t){const{allPatterns:o,initialCategory:r,patternCategories:n,patternCategoryTypes:a}=t,[s,c]=(0,e.useState)(r?.name),[i,d]=(0,e.useState)("");return(0,e.createElement)("div",{className:"block-patterns-for-food-bloggers"},(0,e.createElement)(l,{patternCategories:n,patternCategoryTypes:a,selectedCategory:s,setSelectedCategory:c,searchValue:i,setSearchValue:d}),(0,e.createElement)(B,{allPatterns:o,patternCategories:n,selectedCategory:s,searchValue:i}))}const V=window.wp.notices;function N(){const[o,l]=(0,e.useState)(!1),[c,i]=((o,a)=>{const{patterns:s,patternCategories:l,patternCategoryTypes:c}=(0,n.useSelect)((e=>{var t;const{__experimentalGetAllowedPatterns:o,getSettings:r}=e(E.store),{getEntityRecord:n}=e("core"),s=n("block-patterns-for-food-bloggers/v1","patternCategoryTypes");return{patterns:o(a),patternCategories:r().__experimentalBlockPatternCategories,patternCategoryTypes:null!==(t=s?.patternCategoryTypes)&&void 0!==t?t:"fetching"}}),[a]),{createSuccessNotice:i}=(0,n.useDispatch)(V.store);return[s,l,c,(0,e.useCallback)(((e,n)=>{o((0,t.map)(n,(e=>(0,k.cloneBlock)(e))),e.name),i((0,r.sprintf)(/* translators: %s: block pattern title. */ /* translators: %s: block pattern title. */
(0,r.__)('Block pattern "%s" inserted.',"block-patterns-for-food-bloggers"),e.title),{type:"snackbar"})}),[])]})(),d=[{name:"wpz-featured",label:"WPZOOM: Food Blog Patterns"}],p="fetching"===i?[]:i,u=(0,e.useCallback)((e=>!(!e.categories||!e.categories.length)&&e.categories.some((e=>d.some((t=>t.name===e))))),[d]),g=(0,e.useCallback)((e=>!(!e.categoryTypes||!e.categoryTypes.length)&&e.categoryTypes.some((e=>p.some((t=>t.name===e))))),[p]),m=(0,e.useMemo)((()=>{const e=d.filter((e=>c.some((t=>t.categories?.includes(e.name))))).sort((({name:e},{name:t})=>[e,t].includes("wpz-featured")?"wpz-featured"===e?-1:1:0));return c.some((e=>!u(e)))&&e.find((e=>"uncategorized"===e.name)),e}),[c,d]),f=(0,e.useMemo)((()=>{const e=p.filter((e=>m.some((t=>t.categoryTypes?.includes(e.name)))));return m.some((e=>!g(e)))&&!e.find((e=>"uncategorized"===e.name))&&e.unshift({name:"uncategorized",label:(0,r.__)("Uncategorized","block-patterns-for-food-bloggers"),hideLabelFromVision:!0}),e}),[m,p]),b=m.filter((e=>"uncategorized"===f[0].name?!e.categoryTypes||!e.categoryTypes.length||e.categoryTypes?.includes("uncategorized"):e.categoryTypes?.includes(f[0].name)))[0];return(0,t.isEmpty)(c)?null:(0,e.createElement)(e.Fragment,null,(0,e.createElement)(a.Button,{icon:s,label:(0,r.__)("Explore Food Blog Patterns","block-patterns-for-food-bloggers"),onClick:()=>l(!0)}),o&&(0,e.createElement)(a.Modal,{title:(0,r.__)("WPZOOM: Food Blog Patterns","block-patterns-for-food-bloggers"),closeLabel:(0,r.__)("Close","block-patterns-for-food-bloggers-collection"),onRequestClose:()=>l(!1),className:"block-patterns-for-food-bloggers-collection__modal",isFullScreen:!0},(0,e.createElement)(L,{allPatterns:c,initialCategory:b,patternCategories:m,patternCategoryTypes:f,categoryTypes:!0})))}(0,n.subscribe)((()=>{document.querySelector("#block-patterns-for-food-bloggers-collection")||wp.domReady((()=>{var t=document.querySelector(".edit-post-header-toolbar__left");if(t||(t=document.querySelector(".editor-document-tools__left")),!t)return;const o=document.createElement("div");o.id="block-patterns-for-food-bloggers-collection",t.appendChild(o),(0,e.render)((0,e.createElement)(N,null),document.getElementById("block-patterns-for-food-bloggers-collection"))}))})),(0,n.dispatch)("core").addEntities([{label:(0,r.__)("Pattern Category Types","block-patterns-for-food-bloggers-collection"),kind:"block-patterns-for-food-bloggers-collection/v1",name:"patternCategoryTypes",baseURL:"/block-patterns-for-food-bloggers-collection/v1/pattern-category-types"}])})()})();